

<div class="img-container">
  <app-imgs-show-off [cart]="cart"></app-imgs-show-off>
</div>

<!--
<div class="container d-xl-none">
  <span class="trending">Most Liked</span>
  <div class="d-sm-row game-cards-container d-flex">
    <ng-container *ngFor="let game of sortedGames.slice(0, isDesktop==false ? games.length : 12)" >
      <div class="col-md-4 col-sm-6 game-card" >
        <app-game-card [game]="game" class="game"></app-game-card>
      </div>
    </ng-container>
  </div>
</div>
-->


<app-most-liked-carousel></app-most-liked-carousel>

<div class="new-comersx">
  <div class="logoy"></div>
<div class="container container-new-comers">
  <button class="btn-scroll btn-sinistra" *ngIf="isDesktop==true" (click)="scrollLeft()"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-double-left" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M8.354 1.646a.5.5 0 0 1 0 .708L2.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    <path fill-rule="evenodd" d="M12.354 1.646a.5.5 0 0 1 0 .708L6.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
  </svg></button>
  <div class="d-sm-row game-cards-container d-flex vertical-container" >

    <ng-container *ngFor="let i=index;let game of recentGames.slice(0, isDesktop==false? recentGames.length: 10)">
      <div class="col-md-4 col-sm-6 game-card2">
        <div class="expanding-card" [style.background-image]="'url(' + game.background_img + ')'" (mouseenter)="playVideo($event)" (mouseout)="pauseVideo($event)">
          <span class="title">{{game.title}}</span>
          <iframe  [src]="game.video_trailer | autoplay |urlSanitizer "  frameborder="0" muted class="video"  allow="autoplay" anonymous>
          </iframe>

          <div class="video-info">

            <div class="subinfos">
              <a  routerLink="" class="platform steam">
                <div class="platform-steam">
                  <div>
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"  class="bi bi-steam" viewBox="0 0 16 16">
                      <path d="M.329 10.333A8.01 8.01 0 0 0 7.99 16C12.414 16 16 12.418 16 8s-3.586-8-8.009-8A8.006 8.006 0 0 0 0 7.468l.003.006 4.304 1.769A2.198 2.198 0 0 1 5.62 8.88l1.96-2.844-.001-.04a3.046 3.046 0 0 1 3.042-3.043 3.046 3.046 0 0 1 3.042 3.043 3.047 3.047 0 0 1-3.111 3.044l-2.804 2a2.223 2.223 0 0 1-3.075 2.11 2.217 2.217 0 0 1-1.312-1.568L.33 10.333Z"/>
                      <path d="M4.868 12.683a1.715 1.715 0 0 0 1.318-3.165 1.705 1.705 0 0 0-1.263-.02l1.023.424a1.261 1.261 0 1 1-.97 2.33l-.99-.41a1.7 1.7 0 0 0 .882.84Zm3.726-6.687a2.03 2.03 0 0 0 2.027 2.029 2.03 2.03 0 0 0 2.027-2.029 2.03 2.03 0 0 0-2.027-2.027 2.03 2.03 0 0 0-2.027 2.027Zm2.03-1.527a1.524 1.524 0 1 1-.002 3.048 1.524 1.524 0 0 1 .002-3.048Z"/>
                    </svg>
                    </div>
                </div>
              {{game.platform}}
              <div class="spacer"></div>

            </a>
            <div class="stock" *ngIf="game.onStock">
              <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentcolor" class="bi bi-check-lg" viewBox="0 0 16 16">
                  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>
                </svg>
              </div>In stock
              <div class="spacer"></div>
            </div>
            <div class="stock" *ngIf="!game.onStock">
              <div>
                <!-- croce -->
              </div>Out of stock
              <div class="spacer"></div>
            </div>
            <div class="download">
              <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentcolor" class="bi bi-check-lg" viewBox="0 0 16 16">
                  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>
                </svg>
              </div>
               Digital download
              </div>
            </div>


            <div class="price-video-info">
              <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13" fill="currentColor" class="bi bi-tag" viewBox="0 0 16 16">
                <path d="M6 4.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0zm-1 0a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0z"/>
                <path d="M2 1h4.586a1 1 0 0 1 .707.293l7 7a1 1 0 0 1 0 1.414l-4.586 4.586a1 1 0 0 1-1.414 0l-7-7A1 1 0 0 1 1 6.586V2a1 1 0 0 1 1-1zm0 5.586 7 7L13.586 9l-7-7H2v4.586z"/>
              </svg>
              <span class="full-price-info">{{game.full_price}}</span>
              <span class="perc-price-info">{{game.percentage_discount}}</span>
              <span class="disc-price-info">{{game.discount_price}}</span>
            </div>

          </div>
          <div class="buy-buttons" *ngIf="isLoggedin">
            <button class="buy-button" type="button" (click)="addToCart(game.id)"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-cart-check" viewBox="0 0 16 16">
              <path d="M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
              <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
            </svg></button>
            <button class="buy-button bbtn2" (click)="goToCart(game.id)"> Buy now</button>
        </div>
        <div class="buy-buttons" *ngIf="!isLoggedin">
          <button class="buy-button" type="button" (click)="goToLogIn()"><svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-cart-check" viewBox="0 0 16 16">
            <path d="M11.354 6.354a.5.5 0 0 0-.708-.708L8 8.293 6.854 7.146a.5.5 0 1 0-.708.708l1.5 1.5a.5.5 0 0 0 .708 0l3-3z"/>
            <path d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zm3.915 10L3.102 4h10.796l-1.313 7h-8.17zM6 14a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm7 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
          </svg></button>
          <button class="buy-button bbtn2" (click)="goToLogIn()"> Buy now</button>
      </div>
        </div>
        <app-vertical-game-card [game]="game" class="game"></app-vertical-game-card>
      </div>
    </ng-container>
  </div>
  <button class="btn-scroll btn-destra" *ngIf="isDesktop==true" (click)="scrollRight()"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708z"/>
    <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708z"/>
  </svg></button>
</div>
</div>

<div class="all-games">
  <div class="logox"></div>
  <div class="view-all"><a a [routerLink]="['/search']" [queryParams]="{query: ''}"><span class="view1">View</span><span class="all2">All</span></a></div>
  <div class="container allgames" *ngIf="games">
    <div class="d-sm-row game-cards-container d-flex">
      <ng-container *ngFor="let game of games.slice(0, isDesktop==false ? games.length : 9)">
        <div class="col-md-4 col-sm-6 game-card" >
          <app-game-card [game]="game" class="game"></app-game-card>
        </div>
      </ng-container>
    </div>
  </div>
</div>

<div class="container categories row">
  <span class="trending">Categories</span>
    <ng-container *ngFor="let category of genres"  >
      <div class="col-6 genre">
        <app-genres [genre]="category"></app-genres>
      </div>
    </ng-container>
</div>

<app-footer></app-footer>





